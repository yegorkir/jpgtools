<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>jpgtools compress — локальный JPEG компрессор</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=Rubik+Mono+One&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-orb orb-1" aria-hidden="true"></div>
    <div class="bg-orb orb-2" aria-hidden="true"></div>

    <header class="hero">
      <div class="badge">jpgtools / compress</div>
      <h1>Сожми JPEG прямо в браузере</h1>
      <p>
        Файлы остаются на твоем компьютере: обработка идёт локально, без
        загрузки на сервер.
      </p>
    </header>

    <main class="layout">
      <section class="card upload" id="drop-zone">
        <div class="upload-content">
          <h2>Файлы для обработки</h2>
          <p>
            Перетащи JPEG сюда или выбери из папки. Можно несколько файлов сразу.
          </p>
          <div class="picker-grid">
            <div class="picker-zone" id="file-zone" role="button" tabindex="0">
              Файлы: нажми, чтобы выбрать или перетащи сюда
            </div>
            <div class="picker-zone" id="folder-zone" role="button" tabindex="0">
              Папки: нажми, чтобы выбрать или перетащи сюда
            </div>
          </div>
          <input id="file-input" type="file" accept="image/jpeg" multiple />
          <input id="folder-input" type="file" accept="image/jpeg" multiple webkitdirectory />
          <div class="hint">Поддерживаются .jpg и .jpeg</div>
          <div class="file-list" id="file-list">
            <div class="file-empty">Файлы еще не добавлены.</div>
          </div>
        </div>
      </section>

      <section class="card settings">
        <h2>Параметры компрессии</h2>
        <form id="settings-form">
          <div class="field">
            <label for="target-kb">Целевой размер (KB)</label>
            <input id="target-kb" type="number" min="10" max="5000" value="300" />
          </div>
          <div class="field">
            <label for="initial-quality">Стартовое качество</label>
            <input id="initial-quality" type="number" min="1" max="100" value="85" />
          </div>
          <div class="field">
            <label for="min-quality">Минимальное качество</label>
            <input id="min-quality" type="number" min="1" max="100" value="55" />
          </div>
          <div class="field">
            <label for="quality-step">Шаг качества</label>
            <input id="quality-step" type="number" min="1" max="20" value="5" />
          </div>
          <div class="field">
            <label for="max-width">Макс. ширина (px)</label>
            <input id="max-width" type="number" min="0" max="10000" value="2380" />
          </div>
          <div class="field">
            <label for="max-height">Макс. высота (px)</label>
            <input id="max-height" type="number" min="0" max="10000" value="1600" />
          </div>
          <div class="field">
            <label for="min-width">Мин. ширина (px)</label>
            <input id="min-width" type="number" min="0" max="10000" value="1290" />
          </div>
          <div class="field">
            <label for="min-height">Мин. высота (px)</label>
            <input id="min-height" type="number" min="0" max="10000" value="800" />
          </div>
          <div class="actions">
            <button class="button primary" type="submit">Сжать</button>
            <button class="button ghost" type="button" id="reset-btn">Сбросить</button>
          </div>
        </form>
      </section>

      <section class="card status">
        <h2>Результаты</h2>
        <button class="button primary download-all" id="download-all" disabled hidden>
          Скачать все (0 осталось)
        </button>
        <div id="status-empty">
          Пока ничего не обработано. После сжатия здесь появятся ссылки на файлы.
        </div>
        <div id="status-list" class="status-list" hidden></div>
      </section>
    </main>

    <footer class="footer">
      <span>Работает локально в браузере · Без серверов</span>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
